name: "ecommerce-dashboard"
version: "1.0.0"
description: "Comprehensive e-commerce dashboard integrating Shopify, WooCommerce, Stripe, PayPal, Square, and QuickBooks"
author: "BeamFlow Team"
license: "MIT"
dependencies: 
  - "shopify-api-node"
  - "woocommerce-api"
  - "stripe"
  - "paypal-rest-sdk"
  - "square"
  - "intuit-oauth"
  - "axios"
  - "moment"

permissions: 
  - "plugin:ecommerce-dashboard:read"
  - "plugin:ecommerce-dashboard:write"
  - "plugin:ecommerce-dashboard:admin"

settings:
  shopify_api_key:
    type: "string"
    default: ""
    required: false
    description: "Shopify API key"
    encrypted: true
  
  shopify_api_secret:
    type: "string"
    default: ""
    required: false
    description: "Shopify API secret"
    encrypted: true
  
  shopify_store_url:
    type: "string"
    default: ""
    required: false
    description: "Shopify store URL"
  
  woocommerce_consumer_key:
    type: "string"
    default: ""
    required: false
    description: "WooCommerce consumer key"
    encrypted: true
  
  woocommerce_consumer_secret:
    type: "string"
    default: ""
    required: false
    description: "WooCommerce consumer secret"
    encrypted: true
  
  woocommerce_store_url:
    type: "string"
    default: ""
    required: false
    description: "WooCommerce store URL"
  
  stripe_secret_key:
    type: "string"
    default: ""
    required: false
    description: "Stripe secret key"
    encrypted: true
  
  stripe_publishable_key:
    type: "string"
    default: ""
    required: false
    description: "Stripe publishable key"
    encrypted: true
  
  paypal_client_id:
    type: "string"
    default: ""
    required: false
    description: "PayPal client ID"
    encrypted: true
  
  paypal_client_secret:
    type: "string"
    default: ""
    required: false
    description: "PayPal client secret"
    encrypted: true
  
  square_access_token:
    type: "string"
    default: ""
    required: false
    description: "Square access token"
    encrypted: true
  
  square_environment:
    type: "string"
    default: "sandbox"
    required: true
    description: "Square environment"
    options: ["sandbox", "production"]
  
  quickbooks_client_id:
    type: "string"
    default: ""
    required: false
    description: "QuickBooks client ID"
    encrypted: true
  
  quickbooks_client_secret:
    type: "string"
    default: ""
    required: false
    description: "QuickBooks client secret"
    encrypted: true
  
  enable_shopify:
    type: "boolean"
    default: true
    description: "Enable Shopify integration"
  
  enable_woocommerce:
    type: "boolean"
    default: true
    description: "Enable WooCommerce integration"
  
  enable_stripe:
    type: "boolean"
    default: true
    description: "Enable Stripe integration"
  
  enable_paypal:
    type: "boolean"
    default: true
    description: "Enable PayPal integration"
  
  enable_square:
    type: "boolean"
    default: true
    description: "Enable Square integration"
  
  enable_quickbooks:
    type: "boolean"
    default: true
    description: "Enable QuickBooks integration"
  
  auto_sync_orders:
    type: "boolean"
    default: true
    description: "Automatically sync orders across platforms"
  
  auto_sync_inventory:
    type: "boolean"
    default: true
    description: "Automatically sync inventory across platforms"
  
  sync_interval:
    type: "number"
    default: 300
    description: "Sync interval in seconds"
  
  currency:
    type: "string"
    default: "USD"
    description: "Default currency"
    options: ["USD", "EUR", "GBP", "CAD", "AUD", "JPY"]

hooks:
  - name: "onOrderCreate"
    description: "Process new order creation"
    priority: 10
    enabled: true
  
  - name: "onPaymentProcess"
    description: "Process payment events"
    priority: 10
    enabled: true
  
  - name: "onInventoryUpdate"
    description: "Process inventory updates"
    priority: 5
    enabled: true

ui:
  navigation:
    enabled: true
    title: "E-Commerce Dashboard"
    icon: "shopping_cart"
    path: "/plugins/ecommerce-dashboard"
    order: 40
    permissions: ["plugin:ecommerce-dashboard:read"]
  
  widgets:
    - name: "SalesOverviewWidget"
      description: "Sales overview and analytics"
      component: "SalesOverviewWidget"
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - name: "OrderManagerWidget"
      description: "Order management and processing"
      component: "OrderManagerWidget"
      permissions: ["plugin:ecommerce-dashboard:write"]
    
    - name: "InventoryManagerWidget"
      description: "Inventory management across platforms"
      component: "InventoryManagerWidget"
      permissions: ["plugin:ecommerce-dashboard:write"]
    
    - name: "PaymentProcessorWidget"
      description: "Payment processing and reconciliation"
      component: "PaymentProcessorWidget"
      permissions: ["plugin:ecommerce-dashboard:admin"]
    
    - name: "CustomerManagerWidget"
      description: "Customer management and analytics"
      component: "CustomerManagerWidget"
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - name: "PlatformSyncWidget"
      description: "Multi-platform synchronization"
      component: "PlatformSyncWidget"
      permissions: ["plugin:ecommerce-dashboard:admin"]

api:
  routes:
    - method: "GET"
      path: "/overview"
      handler: "getOverview"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - method: "GET"
      path: "/orders"
      handler: "getOrders"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - method: "GET"
      path: "/orders/:id"
      handler: "getOrder"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - method: "PUT"
      path: "/orders/:id"
      handler: "updateOrder"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:write"]
    
    - method: "POST"
      path: "/orders/create"
      handler: "createOrder"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:write"]
    
    - method: "GET"
      path: "/products"
      handler: "getProducts"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - method: "POST"
      path: "/products/create"
      handler: "createProduct"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:write"]
    
    - method: "PUT"
      path: "/products/:id"
      handler: "updateProduct"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:write"]
    
    - method: "GET"
      path: "/customers"
      handler: "getCustomers"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - method: "GET"
      path: "/payments"
      handler: "getPayments"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - method: "POST"
      path: "/payments/process"
      handler: "processPayment"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:write"]
    
    - method: "GET"
      path: "/analytics/sales"
      handler: "getSalesAnalytics"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - method: "GET"
      path: "/analytics/customers"
      handler: "getCustomerAnalytics"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:read"]
    
    - method: "POST"
      path: "/sync/orders"
      handler: "syncOrders"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:admin"]
    
    - method: "POST"
      path: "/sync/inventory"
      handler: "syncInventory"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:admin"]
    
    - method: "GET"
      path: "/platforms/status"
      handler: "getPlatformStatus"
      middleware: ["auth"]
      permissions: ["plugin:ecommerce-dashboard:read"]
