name: "communication-hub"
version: "1.0.0"
description: "Comprehensive communication hub integrating Discord, Slack, Telegram, WhatsApp, and Microsoft Teams"
author: "BeamFlow Team"
license: "MIT"
dependencies: 
  - "discord.js"
  - "@slack/web-api"
  - "@slack/bolt"
  - "node-telegram-bot-api"
  - "twilio"
  - "axios"
  - "socket.io"

permissions: 
  - "plugin:communication-hub:read"
  - "plugin:communication-hub:write"
  - "plugin:communication-hub:admin"

settings:
  discord_bot_token:
    type: "string"
    default: ""
    required: false
    description: "Discord bot token for Discord integration"
    encrypted: true
  
  discord_guild_id:
    type: "string"
    default: ""
    required: false
    description: "Discord server (guild) ID"
  
  slack_bot_token:
    type: "string"
    default: ""
    required: false
    description: "Slack bot token for Slack integration"
    encrypted: true
  
  slack_signing_secret:
    type: "string"
    default: ""
    required: false
    description: "Slack app signing secret"
    encrypted: true
  
  telegram_bot_token:
    type: "string"
    default: ""
    required: false
    description: "Telegram bot token"
    encrypted: true
  
  twilio_account_sid:
    type: "string"
    default: ""
    required: false
    description: "Twilio Account SID for WhatsApp integration"
    encrypted: true
  
  twilio_auth_token:
    type: "string"
    default: ""
    required: false
    description: "Twilio Auth Token"
    encrypted: true
  
  teams_webhook_url:
    type: "string"
    default: ""
    required: false
    description: "Microsoft Teams webhook URL"
    encrypted: true
  
  enable_discord:
    type: "boolean"
    default: true
    description: "Enable Discord integration"
  
  enable_slack:
    type: "boolean"
    default: true
    description: "Enable Slack integration"
  
  enable_telegram:
    type: "boolean"
    default: true
    description: "Enable Telegram integration"
  
  enable_whatsapp:
    type: "boolean"
    default: true
    description: "Enable WhatsApp integration"
  
  enable_teams:
    type: "boolean"
    default: true
    description: "Enable Microsoft Teams integration"
  
  auto_notifications:
    type: "boolean"
    default: true
    description: "Enable automatic notifications for system events"
  
  notification_channels:
    type: "array"
    default: ["discord", "slack"]
    description: "Default channels for notifications"
    options: ["discord", "slack", "telegram", "whatsapp", "teams"]

hooks:
  - name: "onSystemAlert"
    description: "Send system alerts to communication channels"
    priority: 10
    enabled: true
  
  - name: "onUserActivity"
    description: "Track and notify about user activity"
    priority: 5
    enabled: true
  
  - name: "onContentUpdate"
    description: "Notify about content updates"
    priority: 5
    enabled: true

ui:
  navigation:
    enabled: true
    title: "Communication Hub"
    icon: "chat"
    path: "/plugins/communication-hub"
    order: 20
    permissions: ["plugin:communication-hub:read"]
  
  widgets:
    - name: "MessageCenterWidget"
      description: "Unified message center"
      component: "MessageCenterWidget"
      permissions: ["plugin:communication-hub:read"]
    
    - name: "ChannelManagerWidget"
      description: "Manage communication channels"
      component: "ChannelManagerWidget"
      permissions: ["plugin:communication-hub:admin"]
    
    - name: "NotificationSettingsWidget"
      description: "Configure notification settings"
      component: "NotificationSettingsWidget"
      permissions: ["plugin:communication-hub:write"]
    
    - name: "ChatBotWidget"
      description: "AI-powered chat bot"
      component: "ChatBotWidget"
      permissions: ["plugin:communication-hub:read"]

api:
  routes:
    - method: "POST"
      path: "/send-message"
      handler: "sendMessage"
      middleware: ["auth"]
      permissions: ["plugin:communication-hub:write"]
    
    - method: "GET"
      path: "/channels"
      handler: "getChannels"
      middleware: ["auth"]
      permissions: ["plugin:communication-hub:read"]
    
    - method: "POST"
      path: "/webhook/discord"
      handler: "discordWebhook"
      middleware: []
      permissions: []
    
    - method: "POST"
      path: "/webhook/slack"
      handler: "slackWebhook"
      middleware: []
      permissions: []
    
    - method: "POST"
      path: "/webhook/telegram"
      handler: "telegramWebhook"
      middleware: []
      permissions: []
    
    - method: "GET"
      path: "/messages"
      handler: "getMessages"
      middleware: ["auth"]
      permissions: ["plugin:communication-hub:read"]
    
    - method: "POST"
      path: "/notifications/send"
      handler: "sendNotification"
      middleware: ["auth"]
      permissions: ["plugin:communication-hub:write"]
    
    - method: "GET"
      path: "/status"
      handler: "getStatus"
      middleware: ["auth"]
      permissions: ["plugin:communication-hub:read"]
